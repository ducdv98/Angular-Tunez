/* ==========================================================================
   UTILITY CLASSES & HELPERS
   ========================================================================== */

// Text utilities
.text-gradient {
  @apply bg-gradient-to-r from-primary-500 to-accent-500 bg-clip-text text-transparent;
}

.text-balance {
  text-wrap: balance;
}

.text-pretty {
  text-wrap: pretty;
}

// Accessibility utilities
.sr-only {
  @apply absolute w-px h-px p-0 -m-px overflow-hidden whitespace-nowrap border-0;
  clip: rect(0, 0, 0, 0);
}

.not-sr-only {
  @apply static w-auto h-auto p-0 m-0 overflow-visible whitespace-normal;
  clip: auto;
}

// Focus utilities
.focus-ring {
  @apply focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2;
}

.focus-ring-inset {
  @apply focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-inset;
}

// Interactive states
.interactive {
  @apply transition-all duration-200 ease-in-out;
  @apply hover:scale-105 active:scale-95;
}

.hover-lift {
  @apply transition-transform duration-200 ease-out;
  @apply hover:-translate-y-1 hover:shadow-lg;
}

// Spacing utilities
.space-y-px > * + * {
  @apply mt-px;
}

.space-x-px > * + * {
  @apply ml-px;
}

// Background utilities
.bg-glass {
  @apply bg-white/80 backdrop-blur-sm;
}

.bg-glass-dark {
  @apply bg-neutral-900/80 backdrop-blur-sm;
}

// Border utilities
.border-gradient {
  position: relative;
  
  &::before {
    content: '';
    position: absolute;
    inset: 0;
    padding: 1px;
    background: linear-gradient(45deg, theme('colors.primary.500'), theme('colors.accent.500'));
    border-radius: inherit;
    mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
    mask-composite: exclude;
  }
}

// Music-specific utilities
.album-grid-responsive {
  @apply grid gap-4;
  grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
  
  @screen sm {
    grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
  }
  
  @screen lg {
    grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
  }
}

.track-grid {
  @apply grid gap-2;
  grid-template-columns: auto 1fr auto auto;
  
  @screen sm {
    grid-template-columns: auto 1fr auto auto auto;
  }
}

// Animation utilities
.animate-in {
  @apply animate-fade-in;
}

.animate-out {
  @apply animate-fade-out;
}

@keyframes fade-out {
  from {
    opacity: 1;
  }
  to {
    opacity: 0;
  }
}

.animate-fade-out {
  animation: fade-out 0.5s ease-in-out;
}

// Print utilities
@media print {
  .print-hidden {
    @apply hidden;
  }
  
  .print-visible {
    @apply block;
  }
}

// Performance utilities
.will-change-transform {
  will-change: transform;
}

.will-change-auto {
  will-change: auto;
}

.contain-layout {
  contain: layout;
}

.contain-paint {
  contain: paint;
}

// Custom scrollbar utilities
.scrollbar-thin {
  scrollbar-width: thin;
  
  &::-webkit-scrollbar {
    @apply w-1;
  }
}

.scrollbar-hidden {
  scrollbar-width: none;
  
  &::-webkit-scrollbar {
    @apply hidden;
  }
}

// Aspect ratio utilities (for browsers that don't support aspect-ratio)
.aspect-square::before {
  content: '';
  @apply block w-full;
  padding-bottom: 100%;
}

.aspect-video::before {
  content: '';
  @apply block w-full;
  padding-bottom: 56.25%;
}

// Debug utilities (only in development)
@media (prefers-reduced-motion: no-preference) {
  .debug-outline * {
    @apply outline outline-1 outline-red-500;
  }
  
  .debug-grid {
    background-image: 
      linear-gradient(to right, rgba(255, 0, 0, 0.1) 1px, transparent 1px),
      linear-gradient(to bottom, rgba(255, 0, 0, 0.1) 1px, transparent 1px);
    background-size: 20px 20px;
  }
} 